# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Classes**

* [`postfix`](#postfix): configure postfix, main class
* [`postfix::config::main`](#postfixconfigmain): configures the main.cf file  This class is included by postfix::server and postfix::satellite to write the main.cf file
* [`postfix::config::master`](#postfixconfigmaster): configure master.cf
* [`postfix::service`](#postfixservice): create the postfix Service

**Defined types**

* [`postfix::config::service`](#postfixconfigservice): define a service in master.cf file of postfix  See master(5) for details
* [`postfix::map`](#postfixmap): this defines a map for postfix  you can either use $source or $content parameter or use your own concat::fragment resources to add content to

## Classes

### postfix

configure postfix, main class

#### Examples

##### 

```puppet
include postfix
```

#### Parameters

The following parameters are available in the `postfix` class.

##### `packages`

Data type: `Array`

packages to install

Default value: ['postfix']

##### `package_ensure`

Data type: `String`

defaults to 'install'

Default value: 'present'

##### `parameters`

Data type: `Hash`

Hash of parameters for server

Default value: {}

##### `services`

Data type: `Hash`

Hash of services for server
Defaults to {}

Default value: {}

##### `maps`

Data type: `Hash`

Hash of maps to generate
Defaults to {}

Default value: {}

##### `map_dir`

Data type: `String`

directory for maps to create

Default value: '/etc/postfix/maps'

##### `ssl_dir`

Data type: `String`

directory for ssl to create

Default value: '/etc/postfix/ssl'

##### `owner`

Data type: `String`

file and directory owner

Default value: 'root'

##### `group`

Data type: `String`

file and directory group

Default value: 'root'

##### `mode`

Data type: `String`

file mode

Default value: '0644'

##### `postmap_command`

Data type: `String`

the postmap command to use

Default value: '/usr/sbin/postmap'

##### `create_resources`

Data type: `Hash`

generic create_resources (for certificates etc)

Default value: {}

##### `master_cf_file`

Data type: `String`

filename and path to master.cf file

Default value: '/etc/postfix/master.cf'

##### `main_cf_file`

Data type: `String`

filename and path to main.cf file

Default value: '/etc/postfix/main.cf'

### postfix::config::main

configures the main.cf file

This class is included by
postfix::server and
postfix::satellite to write the main.cf file

#### Parameters

The following parameters are available in the `postfix::config::main` class.

##### `main_cf_file`

Data type: `String`

name and path of the main.cf file

##### `owner`

Data type: `String`

owner of the main.cf file

##### `group`

Data type: `String`

group of the main.cf file

##### `mode`

Data type: `String`

mode of the main.cf file

##### `parameters`

Data type: `Hash`

The parameters to set in the main.cf file
Defaults to {}

Default value: {}

### postfix::config::master

configure master.cf

#### Parameters

The following parameters are available in the `postfix::config::master` class.

##### `master_cf_file`

Data type: `String`

name and path for master.cf file

##### `owner`

Data type: `String`

owner of master.cf

##### `group`

Data type: `String`

group of master.cf

##### `mode`

Data type: `String`

file mode of master.cf

##### `services`

Data type: `Hash`

services to configure (also see README)

Default value: {}

### postfix::service

create the postfix Service

#### Parameters

The following parameters are available in the `postfix::service` class.

##### `service_name`

Data type: `String`

The name of the service

Default value: 'postfix'

##### `service_ensure`

Data type: `String`

state of the service.

Default value: 'running'

##### `service_enable`

Data type: `Boolean`

if service should be enabled

Default value: `true`

##### `disabled_services`

Data type: `Array`

Array of Services to stop

Default value: []

##### `exec_postfix_enable`

Data type: `Boolean`

if set to true, we run postfix-enable

Default value: `false`

##### `sync_chroot`

Data type: `String`

if set to a path, the according chroot
is synced.

Default value: ''

##### `ensure_syslog_flag`

Data type: `Boolean`

if set to true, and sync_chroot is choosen,
a flag is set to allow logging from chroot
this is very OpenBSD specific !

Default value: `false`

## Defined types

### postfix::config::service

define a service in master.cf file of postfix

See master(5) for details

#### Parameters

The following parameters are available in the `postfix::config::service` defined type.

##### `type`

Data type: `String`

Specify the service type. one of:
inet, unix, fifo, pass.
defaults to 'unix'

Default value: 'unix'

##### `command`

Data type: `String`

The command to be executed.
defaults to $title

Default value: $title

##### `args`

Data type: `Array`

Array of commands arguments

Default value: []

##### `service_names`

Data type: `Array`

Array of service names to configure.
defaults to [$title]

Default value: [ $title ]

##### `priv`

Data type: `String`

Whether or not access is restricted to the mail system.
defaults '-' (use built-in default)

Default value: '-'

##### `unpriv`

Data type: `String`

Whether the service runs with root privileges or as
the owner of the Postfix system.
defaults '-' (use built-in default)

Default value: '-'

##### `chroot`

Data type: `String`

Whether or not the service runs chrooted to the mail
queue directory.
defaults '-' (use built-in default)

Default value: '-'

##### `wakeup`

Data type: `String`

Wake up time
defaults 'n' (default for postfix >= 3.0)

Default value: '-'

##### `maxproc`

Data type: `String`

The maximum number of processes that may execute
this service simultaneously
defaults 'n' (default for postfix >= 3.0)

Default value: '-'

##### `active`

Data type: `Boolean`

if false, the service will not be activated (commented out)
default: true,

Default value: `true`

##### `comments`

Data type: `Array`

Array of comments to print in front of the service definition.
defaults to [] (no comment)

Default value: []

##### `order`

Data type: `String`

order of the fragment (defaults to '55')

Default value: '55'

##### `master_cf_file`

Data type: `String`

target

### postfix::map

this defines a map for postfix

you can either use $source or $content
parameter or use your own concat::fragment
resources to add content to the map.

#### Parameters

The following parameters are available in the `postfix::map` defined type.

##### `map_dir`

Data type: `String`

the directory to create the map in

##### `postmap_command`

Data type: `String`

postmap command

##### `map_name`

Data type: `String`

The name of the map defaults to $title

Default value: $title

##### `type`

Data type: `String`

the type of the map
defaults to hash

Default value: 'hash'

##### `source`

Data type: `String`

source of the map
defaults to ''

Default value: ''

##### `contents`

Data type: `Array`

Array of lines to add to the map
defaults to []

Default value: []

##### `owner`

Data type: `String`

owner of the map file

##### `group`

Data type: `String`

group of the map file

##### `mode`

Data type: `String`

file mode of the map file

